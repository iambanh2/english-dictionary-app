# Trang Quáº£n LÃ½ Tá»« Vá»±ng - Eng### Danh SÃ¡ch Tá»« Vá»±ng

Hiá»ƒn thá»‹ dáº¡ng cards vá»›i thÃ´ng tin:

- **Tá»« tiáº¿ng Anh** (to lá»›n)
- **NghÄ©a tiáº¿ng Viá»‡t**
- **PhiÃªn Ã¢m vá»›i phÃ¡t Ã¢m**:
  - ğŸ‡¬ğŸ‡§ /kÃ¦t/ [ğŸ”Š] (British + Audio)
  - ğŸ‡ºğŸ‡¸ /kÃ¦t/ [ğŸ”Š] (American + Audio)
  - ğŸ‡¦ğŸ‡º /kÃ¦t/ [ğŸ”Š] (Australian + Audio, náº¿u cÃ³)
- **Tá»« loáº¡i**: noun, verb, adjective...
- **Äá»‹nh nghÄ©a**: A small domesticated animal
- **VÃ­ dá»¥**:
  - ğŸ‡¬ğŸ‡§ "The cat is sleeping"
  - ğŸ‡»ğŸ‡³ "Con mÃ¨o Ä‘ang ngá»§" (báº£n dá»‹ch)
- **NÃºt**: [âœï¸ Sá»­a] [ğŸ—‘ï¸ XÃ³a]nary App

## ğŸ“ Má»¥c ÄÃ­ch

Trang nÃ y cho phÃ©p ngÆ°á»i dÃ¹ng:

- Xem táº¥t cáº£ tá»« vá»±ng trong 1 chá»§ Ä‘á» cá»¥ thá»ƒ
- ThÃªm tá»« má»›i báº±ng Dictionary API
- Chá»‰nh sá»­a vÃ  xÃ³a tá»«
- Nghe phÃ¡t Ã¢m cá»§a tá»«

## ğŸ¨ Giao Diá»‡n

### Header (Äáº§u trang)

```
â† Back to Categories  |  â† Back to Home     [ğŸ‘‹ User Name] [Sign Out]
Words in [TÃªn Chá»§ Äá»]
```

### ThÃ´ng Tin Chá»§ Äá»

```
ğŸ“š [Icon] Animals
"Learn about different animals"
25 words in this category
[â• Add New Word]
```

### Danh SÃ¡ch Tá»« Vá»±ng

Hiá»ƒn thá»‹ dáº¡ng cards vá»›i thÃ´ng tin:

- **Tá»« tiáº¿ng Anh** (to lá»›n)
- **NghÄ©a tiáº¿ng Viá»‡t**
- **PhiÃªn Ã¢m**: ğŸ‡¬ğŸ‡§ /kÃ¦t/ | ğŸ‡ºğŸ‡¸ /kÃ¦t/
- **Tá»« loáº¡i**: noun, verb, adjective...
- **Äá»‹nh nghÄ©a**: A small domesticated animal
- **VÃ­ dá»¥**: "The cat is sleeping"
- **NÃºt**: [ï¿½ Nghe] [âœï¸ Sá»­a] [ğŸ—‘ï¸ XÃ³a]

### Form ThÃªm Tá»« Má»›i

```
[English word...] [ğŸ” Look Up & Translate]
[Vietnamese translation...] (tá»± Ä‘á»™ng tá»« API, cÃ³ thá»ƒ chá»‰nh sá»­a)
[ğŸ‡¬ğŸ‡§ British pronunciation...] [ğŸ”Š] [ğŸ‡ºğŸ‡¸ American pronunciation...] [ğŸ”Š]
[ğŸ‡¦ğŸ‡º Australian pronunciation...] [ğŸ”Š] (náº¿u cÃ³ tá»« API)
[Part of speech...]
[Definition...]
[Example sentence...]
[Vietnamese example translation...] (tá»± Ä‘á»™ng dá»‹ch)
[Save Word] [Cancel]
```

## ğŸ”§ Chá»©c NÄƒng ChÃ­nh

### 1. Xem Danh SÃ¡ch Tá»«

- Táº£i tá»« vá»±ng theo chá»§ Ä‘á» tá»« URL: `?categoryId=abc123`
- Cáº­p nháº­t real-time khi cÃ³ thay Ä‘á»•i
- TÃ¬m kiáº¿m tá»« trong danh sÃ¡ch
- Hiá»ƒn thá»‹ thÃ´ng bÃ¡o khi chÆ°a cÃ³ tá»« nÃ o

### 2. ThÃªm Tá»« Má»›i (Dictionary API + Translation API)

```
BÆ°á»›c 1: Nháº­p tá»« tiáº¿ng Anh â†’ Click "ğŸ” Look Up"
BÆ°á»›c 2: Gá»i Dictionary API â†’ Tá»± Ä‘á»™ng Ä‘iá»n thÃ´ng tin tiáº¿ng Anh
BÆ°á»›c 3: Gá»i Translation API â†’ Tá»± Ä‘á»™ng dá»‹ch nghÄ©a tiáº¿ng Viá»‡t
BÆ°á»›c 4: NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ chá»‰nh sá»­a nghÄ©a tiáº¿ng Viá»‡t
BÆ°á»›c 5: Click "Save" â†’ LÆ°u vÃ o database
```

**API sá»­ dá»¥ng**:

- **Dictionary API**: https://api.dictionaryapi.dev/api/v2/entries/en/{word}
- **MyMemory Translation API**: https://api.mymemory.translated.net/get?q={text}&langpair=en|vi

### 3. Chá»‰nh Sá»­a Tá»«

- Click nÃºt âœï¸ â†’ Chá»‰nh sá»­a trá»±c tiáº¿p
- CÃ³ thá»ƒ tra láº¡i Dictionary API
- LÆ°u hoáº·c há»§y thay Ä‘á»•i

### 4. XÃ³a Tá»«

- Click nÃºt ğŸ—‘ï¸ â†’ Hiá»‡n há»™p thoáº¡i xÃ¡c nháº­n
- XÃ¡c nháº­n â†’ XÃ³a khá»i database

### 5. PhÃ¡t Ã‚m Äa NgÃ´n Ngá»¯

- **British English**: Click nÃºt ğŸ”Š â†’ PhÃ¡t Ã¢m thanh tá»« API (Æ°u tiÃªn)
- **American English**: Click nÃºt ğŸ”Š â†’ PhÃ¡t Ã¢m thanh tá»« API
- **Australian English**: Click nÃºt ğŸ”Š â†’ PhÃ¡t Ã¢m thanh tá»« API (náº¿u cÃ³)
- **Fallback**: Náº¿u khÃ´ng cÃ³ audio â†’ DÃ¹ng Web Speech API hoáº·c text-to-speech

### 6. Dá»‹ch Tá»± Äá»™ng

- **NghÄ©a tá»«**: Tá»± Ä‘á»™ng dá»‹ch Ä‘á»‹nh nghÄ©a tá»« tiáº¿ng Anh sang tiáº¿ng Viá»‡t
- **VÃ­ dá»¥**: Tá»± Ä‘á»™ng dá»‹ch cÃ¢u vÃ­ dá»¥ tá»« tiáº¿ng Anh sang tiáº¿ng Viá»‡t
- **Chá»‰nh sá»­a**: NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ chá»‰nh sá»­a báº£n dá»‹ch tá»± Ä‘á»™ng

## ğŸ’¾ Cáº¥u TrÃºc Dá»¯ Liá»‡u

### Äá»‘i TÆ°á»£ng Word

```typescript
interface Word {
  id: string; // ID duy nháº¥t
  categoryId: string; // ID chá»§ Ä‘á»
  englishWord: string; // Tá»« tiáº¿ng Anh
  vietnameseTranslation: string; // NghÄ©a tiáº¿ng Viá»‡t (tá»« API + chá»‰nh sá»­a)
  britishPronunciation: string; // PhiÃªn Ã¢m Anh: /kÃ¦t/
  americanPronunciation: string; // PhiÃªn Ã¢m Má»¹: /kÃ¦t/
  australianPronunciation?: string; // PhiÃªn Ã¢m Ãšc: /kÃ¦t/ (tÃ¹y chá»n)
  partOfSpeech: string; // Tá»« loáº¡i: noun, verb...
  definition: string; // Äá»‹nh nghÄ©a tiáº¿ng Anh
  vietnameseDefinition?: string; // Äá»‹nh nghÄ©a tiáº¿ng Viá»‡t (dá»‹ch tá»± Ä‘á»™ng)
  example?: string; // VÃ­ dá»¥ tiáº¿ng Anh
  vietnameseExample?: string; // VÃ­ dá»¥ tiáº¿ng Viá»‡t (dá»‹ch tá»± Ä‘á»™ng)
  audioUrls: {
    // CÃ¡c link Ã¢m thanh
    british?: string;
    american?: string;
    australian?: string;
  };
  createdAt: Date; // NgÃ y táº¡o
  updatedAt: Date; // NgÃ y cáº­p nháº­t
  userId: string; // ID ngÆ°á»i dÃ¹ng
}
```

### Pháº£n Há»“i Dictionary API

```typescript
interface DictionaryAPIResponse {
  word: string;
  phonetics: {
    text: string; // PhiÃªn Ã¢m IPA
    audio: string; // Link Ã¢m thanh
    sourceUrl?: string; // Nguá»“n Ã¢m thanh
  }[];
  meanings: {
    partOfSpeech: string;
    definitions: {
      definition: string;
      example?: string;
    }[];
  }[];
}
```

### Pháº£n Há»“i MyMemory Translation API

```typescript
interface MyMemoryResponse {
  responseData: {
    translatedText: string; // VÄƒn báº£n Ä‘Ã£ dá»‹ch
    match: number; // Äá»™ chÃ­nh xÃ¡c (0-1)
  };
  quotaFinished: boolean; // Háº¿t quota chÆ°a
  responseStatus: number; // Status code
}
```

## ï¿½ API Integration

### Dictionary API

- **URL**: https://api.dictionaryapi.dev/api/v2/entries/en/{word}
- **Method**: GET
- **Rate Limit**: KhÃ´ng giá»›i háº¡n (miá»…n phÃ­)
- **Response**: JSON vá»›i phonetics, meanings, definitions, examples

### MyMemory Translation API

- **URL**: https://api.mymemory.translated.net/get
- **Method**: GET
- **Parameters**:
  - `q`: Text cáº§n dá»‹ch
  - `langpair`: Cáº·p ngÃ´n ngá»¯ (vÃ­ dá»¥: en|vi)
- **Rate Limit**: 1000 requests/ngÃ y (miá»…n phÃ­)
- **Response**: JSON vá»›i translatedText

### Audio Processing

- **Æ¯u tiÃªn**: Sá»­ dá»¥ng audio URL tá»« Dictionary API
- **Fallback**: Web Speech API (speechSynthesis)
- **Format**: MP3, WAV, OGG
- **Caching**: LÆ°u cache audio Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™

## ï¿½ğŸ”§ Ká»¹ Thuáº­t

### Files

- **HTML**: `html/words.html`
- **CSS**: `css/words.css`
- **TypeScript**: `js/words/words.ts`

### URL

- **Äá»‹nh dáº¡ng**: `/words?categoryId=abc123`

### Database (Firestore)

```
users/{userId}/words/{wordId} = {
  categoryId: "abc123",
  englishWord: "cat",
  vietnameseTranslation: "con mÃ¨o",
  britishPronunciation: "/kÃ¦t/",
  americanPronunciation: "/kÃ¦t/",
  australianPronunciation: "/kÃ¦t/",
  partOfSpeech: "noun",
  definition: "A small domesticated animal",
  vietnameseDefinition: "Má»™t loÃ i Ä‘á»™ng váº­t nhá» Ä‘Æ°á»£c thuáº§n hÃ³a",
  example: "The cat is sleeping",
  vietnameseExample: "Con mÃ¨o Ä‘ang ngá»§",
  audioUrls: {
    british: "https://audio-uk.mp3",
    american: "https://audio-us.mp3",
    australian: "https://audio-au.mp3"
  },
  createdAt: timestamp,
  updatedAt: timestamp
}
```

### Chá»©c NÄƒng TypeScript ChÃ­nh

```typescript
class WordsManager {
  // Láº¥y tá»« vá»±ng theo chá»§ Ä‘á»
  async getWordsByCategory(categoryId: string): Promise<Word[]>;

  // Tra tá»« Ä‘iá»ƒn
  async lookupWordInDictionary(word: string): Promise<DictionaryAPIResponse>;

  // Dá»‹ch vÄƒn báº£n
  async translateText(
    text: string,
    fromLang: string = "en",
    toLang: string = "vi"
  ): Promise<string>;

  // Tra tá»« vÃ  dá»‹ch tá»± Ä‘á»™ng
  async lookupAndTranslate(word: string): Promise<{
    dictionaryData: DictionaryAPIResponse;
    vietnameseTranslation: string;
    vietnameseDefinition?: string;
    vietnameseExample?: string;
  }>;

  // ThÃªm tá»« má»›i
  async createWord(wordData: Partial<Word>): Promise<Word>;

  // Cáº­p nháº­t tá»«
  async updateWord(id: string, updates: Partial<Word>): Promise<void>;

  // XÃ³a tá»«
  async deleteWord(id: string): Promise<void>;

  // PhÃ¡t Ã¢m thanh theo accent
  async playAudioPronunciation(
    audioUrl: string,
    accent: "british" | "american" | "australian"
  ): Promise<void>;

  // Cáº­p nháº­t sá»‘ lÆ°á»£ng tá»« trong chá»§ Ä‘á»
  async updateCategoryWordCount(categoryId: string): Promise<void>;

  // PhÃ¢n loáº¡i phonetics theo accent
  private categorizePhonetics(phonetics: any[]): {
    british?: any;
    american?: any;
    australian?: any;
  };
}
```

## âœ… Kiá»ƒm Tra Dá»¯ Liá»‡u

### Validation

- **Tá»« tiáº¿ng Anh**: Báº¯t buá»™c, tá»‘i Ä‘a 100 kÃ½ tá»±
- **NghÄ©a tiáº¿ng Viá»‡t**: Tá»± Ä‘á»™ng tá»« API, cÃ³ thá»ƒ chá»‰nh sá»­a, tá»‘i Ä‘a 200 kÃ½ tá»±
- **PhiÃªn Ã¢m**: TÃ¹y chá»n, tá»‘i Ä‘a 50 kÃ½ tá»± má»—i loáº¡i
- **Äá»‹nh nghÄ©a**: TÃ¹y chá»n, tá»‘i Ä‘a 500 kÃ½ tá»±
- **VÃ­ dá»¥**: TÃ¹y chá»n, tá»‘i Ä‘a 300 kÃ½ tá»±
- **Báº£n dá»‹ch**: Tá»± Ä‘á»™ng tá»« API, cÃ³ thá»ƒ chá»‰nh sá»­a

### Security Rules (Firestore)

```javascript
// Chá»‰ cho phÃ©p ngÆ°á»i dÃ¹ng truy cáº­p tá»« vá»±ng cá»§a chÃ­nh há»
match /users/{userId}/words/{wordId} {
  allow read, write: if request.auth != null &&
                    request.auth.uid == userId;
}
```

## ğŸš€ TÃ­nh NÄƒng TÆ°Æ¡ng Lai

- Import tá»« vá»±ng tá»« file Excel/CSV
- Quiz/flashcard Ä‘á»ƒ há»c tá»«
- Theo dÃµi tiáº¿n Ä‘á»™ há»c
- Xuáº¥t dá»¯ liá»‡u ra file
- Cháº¿ Ä‘á»™ offline
- Há»— trá»£ thÃªm ngÃ´n ngá»¯ khÃ¡c (Trung, Nháº­t, HÃ n...)
- TÃ­ch há»£p AI Ä‘á»ƒ gá»£i Ã½ tá»« vá»±ng liÃªn quan
- PhÃ¢n tÃ­ch Ä‘á»™ khÃ³ cá»§a tá»« vá»±ng
- Cháº¿ Ä‘á»™ há»c theo cáº¥p Ä‘á»™ (beginner, intermediate, advanced)
